System.register(["./vue-vendor-legacy-ikyms0Ip.js","./permission-legacy-CGCFakbO.js","./role.service-legacy-BaxOUdnW.js","./modal.vue_vue_type_script_setup_true_lang-legacy-B8VAqqil.js","./skeleton-legacy-XkooQtmU.js","./index-legacy-D_zaI8lQ.js","./index-legacy-DWXZgdOb.js","./antd-vendor-legacy-DsFsidym.js","./_plugin-vue_export-helper-legacy-DgAO6S8O.js","./axios-vendor-legacy-B4nRALG8.js","./lodash-vendor-legacy-k_izlGWN.js"],(function(e,a){"use strict";var n,o,s,l,i,r,d,t,c,u,p,g,v,m,y,_,f,j,h,k,x,I;return{setters:[e=>{n=e.d,o=e.ah,s=e.ab,l=e.u,i=e.ai,r=e.r,d=e.w,t=e.a4,c=e.a5,u=e.a6,p=e.aj,g=e.c},e=>{v=e.P,m=e.a},e=>{y=e.R},e=>{_=e._},e=>{f=e.Q},e=>{j=e.u},e=>{h=e.u},e=>{k=e.h,x=e.aa},e=>{I=e._},null,null],execute:function(){const a={class:"permission-modal-wrapper"},P=n({name:"GivePermissionModal",__name:"give-permission-modal",props:o({roleId:{}},{open:{type:Boolean,default:!1,required:!0},openModifiers:{}}),emits:["update:open"],setup(e){s((e=>({ae5d4188:`${l(n).marginLG}px`,"553a54a2":`${l(n).paddingLG}px`,cca96128:`${l(n).borderRadiusLG}px`,d1402fbc:l(n).colorBgContainer})));const{token:n}=j(),o=e,I=i(e,"open"),P=r(),b=r([]),{loading:w}=h(m.getPermissionList,{onSuccess:({data:e})=>{P.value=v.convertPermissionToTree(e)}}),{run:G}=h(y.getRoleDetail,{manual:!0,onSuccess:({data:e})=>{b.value=e.permIds}}),{loading:L,run:S}=h(y.givePermission,{manual:!0,onSuccess:()=>{k.success("分配权限成功")},onFinally:()=>{I.value=!1}}),K=()=>{S({id:o.roleId,permIds:b.value})},R=()=>I.value=!1;return d((()=>o.roleId),(e=>{e&&G(e)}),{immediate:!0}),(e,n)=>(c(),t(l(_),{title:"分配权限",open:I.value,"confirm-loading":l(L),onOk:K,onCancel:R,width:400},{default:u((()=>[p("div",a,[g(l(f),{loading:l(w),title:!1,paragraph:{rows:8}},{default:u((()=>[g(l(x),{checkedKeys:b.value,"onUpdate:checkedKeys":n[0]||(n[0]=e=>b.value=e),checkable:"","tree-data":P.value},null,8,["checkedKeys","tree-data"])])),_:1},8,["loading"])])])),_:1},8,["open","confirm-loading"]))}});e("default",I(P,[["__scopeId","data-v-f65464f7"]]))}}}));
