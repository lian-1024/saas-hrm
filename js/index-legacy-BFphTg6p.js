System.register(["./vue-vendor-legacy-x9FjLCOD.js","./index-legacy-CHUU-5It.js","./_plugin-vue_export-helper-legacy-DgAO6S8O.js","./index-legacy-FCYPyWIL.js","./antd-vendor-legacy-C9XdHwF7.js","./index-legacy-BGg9RYLl.js","./axios-vendor-legacy-B4nRALG8.js","./lodash-vendor-legacy-D6Hi_gR3.js"],(function(e,a){"use strict";var l,s,r,o,i,n,t,u,d,c,m,g,p,v,b,f,_,h,y,w,C,q,F,I,S,x,k,j,A,U,E,N;return{setters:[e=>{l=e.d,s=e.a7,r=e.a3,o=e.ah,i=e.a5,n=e.r,t=e.a,u=e.a2,d=e.u,c=e.al,m=e.a4,g=e.c,p=e.G,v=e.ad,b=e.o,f=e.f,_=e.a9,h=e.aa},e=>{y=e.u},e=>{w=e._},e=>{C=e.d,q=e.u,F=e.U},e=>{I=e.aj,S=e.al,x=e.a0,k=e.aa,j=e.B,A=e.ax,U=e.Z,E=e.F},e=>{N=e.Q},null,null],execute:function(){const a={class:"hero"},P=w(l({name:"SignInHero",__name:"hero",setup:e=>(e,l)=>(r(),s("div",a,l[0]||(l[0]=[o("img",{class:"hero-img",src:"/sass-hrm/images/login_back-BLUAlTsq.png",alt:"hero"},null,-1)])))}),[["__scopeId","data-v-ab61c7eb"]]),z=l({__name:"mobile-form",setup(e){const{t:a}=i(),l=n(),s=t({mobile:"13800000002",password:"hm#qd@23!",isAgree:!0}),b={mobile:[{required:!0,message:a("user.mobileForm.rules.mobile.required")},{pattern:/^1[3-9]\d{9}$/,message:a("user.mobileForm.rules.mobile.format")}],password:[{required:!0,message:a("user.mobileForm.rules.password.required")},{min:6,message:a("user.mobileForm.rules.password.minLength")}],isAgree:[{validator:(e,l)=>l?Promise.resolve():Promise.reject(a("user.mobileForm.rules.agreement.required"))}]},f=C(),_=async e=>{await f.login(e)},h={labelCol:{span:0},wrapperCol:{span:24}};return(e,i)=>(r(),u(d(I),c({ref_key:"formRef",ref:l,model:s,rules:b},h,{onFinish:_}),{default:m((()=>[g(d(I).Item,{name:"mobile"},{default:m((()=>[g(d(S),{value:s.mobile,"onUpdate:value":i[0]||(i[0]=e=>s.mobile=e),size:"large",placeholder:d(a)("user.mobileForm.placeholder.mobile")},{prefix:m((()=>i[3]||(i[3]=[o("span",{class:"anticon"},[o("i",{class:"iconfont icon-phone"})],-1)]))),_:1},8,["value","placeholder"])])),_:1}),g(d(I).Item,{name:"password"},{default:m((()=>[g(d(S).Password,{value:s.password,"onUpdate:value":i[1]||(i[1]=e=>s.password=e),size:"large",placeholder:d(a)("user.mobileForm.placeholder.password")},{prefix:m((()=>i[4]||(i[4]=[o("span",{class:"anticon"},[o("i",{class:"iconfont icon-lock"})],-1)]))),_:1},8,["value","placeholder"])])),_:1}),g(d(I).Item,{name:"isAgree"},{default:m((()=>[g(d(x),{checked:s.isAgree,"onUpdate:checked":i[2]||(i[2]=e=>s.isAgree=e)},{default:m((()=>[p(v(d(a)("user.mobileForm.agreement.text"))+" ",1),g(d(k),null,{default:m((()=>[p(v(d(a)("user.mobileForm.agreement.link")),1)])),_:1})])),_:1},8,["checked"])])),_:1}),g(d(I).Item,null,{default:m((()=>[g(d(j),{loading:d(f).loginLoading,type:"primary","html-type":"submit",block:"",size:"large"},{default:m((()=>[p(v(d(a)("user.mobileForm.button.login")),1)])),_:1},8,["loading"])])),_:1})])),_:1},16,["model"]))}}),L={class:"qrcode-form"},R={class:"qrcode-wrapper"},B={class:"qrcode-tip"},Q=w(l({__name:"qrcode-form",setup(e){const{t:a}=i(),l=n(""),t=n(),u=C(),c=n(),_={[N.UN_SCAN]:"active",[N.SCANED]:"scanned",[N.SUCCESS]:"scanned",[N.EXPIRED]:"expired",[N.CANCEL]:"expired"},{run:h,loading:y}=q(F.getQRCodeKey,{manual:!0,onSuccess:({data:e})=>{l.value=e,I()}}),{run:w}=q(F.getQRCodeStatus,{manual:!0,onSuccess:({data:e})=>{c.value=_[e.status],Number(e.status)===N.SUCCESS&&(S(),u.login(e))}}),I=()=>{S(),t.value=setInterval((()=>{l.value&&w(l.value)}),3e3)},S=()=>{t.value&&(clearInterval(t.value),t.value=void 0)},x=()=>{h()};return b((async()=>{c.value="loading",await h(),c.value="active"})),f((()=>{S()})),(e,i)=>(r(),s("div",L,[o("div",R,[g(d(A),{value:l.value,status:c.value},null,8,["value","status"]),o("p",B,v(d(a)("user.qrcodeForm.tip")),1)]),g(d(j),{type:"primary",loading:d(y),block:"",size:"large",onClick:x},{default:m((()=>[p(v(d(a)("user.qrcodeForm.button.refresh")),1)])),_:1},8,["loading"])]))}}),[["__scopeId","data-v-ce6d720a"]]),$={class:"sign-in-form"},D={class:"sign-in-form-wrapper"},T={class:"sign-in-form-component"},G={class:"sign-in-form-footer"};e("default",w(l({name:"SignInPage",__name:"index",setup(e){_((e=>({"3a8ab996":d(t).colorBgContainer})));const{t:a}=i(),l=n("mobile"),s=()=>{l.value="mobile"===l.value?"qrcode":"mobile"},{token:t}=y();return(e,i)=>(r(),u(d(E),{class:"sign-in"},{default:m((()=>[g(P,{class:"sign-in-hero"}),o("div",$,[o("div",D,[g(d(U),{level:3,class:"sign-in-form-title"},{default:m((()=>[p(v(d(a)(`user.signIn.title.${l.value}`)),1)])),_:1}),o("div",T,[(r(),u(h("mobile"===l.value?z:Q)))]),o("div",G,[o("a",{onClick:s},v(d(a)(`user.signIn.switchType.${l.value}`)),1)])])])])),_:1}))}}),[["__scopeId","data-v-d8689cb4"]]))}}}));
