System.register(["./vue-vendor-legacy-x9FjLCOD.js","./index-legacy-CHUU-5It.js","./index-legacy-FCYPyWIL.js","./antd-vendor-legacy-C9XdHwF7.js","./_plugin-vue_export-helper-legacy-DgAO6S8O.js","./message-legacy-ZD6EJ5PZ.js","./spin-legacy-NTWxnDiJ.js","./avatar.vue_vue_type_script_setup_true_lang-legacy-BPfSgjr-.js","./skeleton-legacy-KE-_dRl6.js","./generate-menu-item-legacy-SOaWgP50.js","./index-legacy-BGg9RYLl.js","./axios-vendor-legacy-B4nRALG8.js","./lodash-vendor-legacy-D6Hi_gR3.js"],(function(e,a){"use strict";var t,l,n,o,u,s,r,d,c,i,p,m,g,v,y,f,h,k,_,b,j,x,w,C,I,S,B,U,Q,R,$,K,O,A,N,L,T,D,E,M,P,q,H,W,X,z,G,V,Y,F,J,Z,ee,ae,te,le,ne,oe,ue,se,re,de,ce,ie,pe,me,ge,ve,ye,fe,he,ke,_e,be,je;return{setters:[e=>{t=e.j,l=e.r,n=e.o,o=e.f,u=e.d,s=e.Z,r=e.a5,d=e.c,c=e.a1,i=e.b,p=e.a9,m=e.u,g=e.a2,v=e.a3,y=e.a4,f=e.m,h=e.aa,k=e.h,_=e.ab,b=e.ac,j=e.G,x=e.ad,w=e.ae,C=e.af,I=e.ag,S=e.ah,B=e.a7,U=e.ai,Q=e.w},e=>{R=e.u},e=>{$=e.u,K=e.U,O=e.a,A=e.b,N=e.c,L=e.d,T=e._,D=e.r,E=e.e},e=>{M=e.h,P=e.F,q=e.E,H=e.p,W=e.L,X=e.q,z=e.s,G=e.u,V=e.B,Y=e.v,F=e.w,J=e.x,Z=e.y,ee=e.z,ae=e.M,te=e.G,le=e.H,ne=e.S,oe=e.D,ue=e.I,se=e.J,re=e.N,de=e.O,ce=e.Q,ie=e.V,pe=e.W,me=e.X,ge=e.Y},e=>{ve=e._},e=>{ye=e.M,fe=e.a},e=>{he=e.Q},e=>{ke=e._},e=>{_e=e.Q},e=>{be=e.g},e=>{je=e.O},null,null],execute:function(){const xe=l([]),we=l([]),Ce=()=>{const e=t((()=>xe.value.length>0)),{run:a}=$(K.getUserNotification,{manual:!0,onSuccess:({data:e})=>{xe.value=e.unread||[],we.value=e.read||[]}}),{run:l}=$(K.markUserNotificationAsRead,{manual:!0,onSuccess:()=>{M.success("æ ‡è®°å·²è¯»æˆåŠŸ"),a()},onError:e=>{M.error(e.message||"æ ‡è®°å·²è¯»å¤±è´¥")}}),{run:n}=$(K.deleteUserNotification,{manual:!0,onSuccess:()=>{M.success("åˆ é™¤æ¶ˆæ¯æˆåŠŸ"),a()},onError:e=>{M.error(e.message||"åˆ é™¤æ¶ˆæ¯å¤±è´¥")}});return{unread:xe,read:we,getUserNotification:a,isHaveUnread:e,markAsRedById:async e=>{await l(e).then((()=>{const a=xe.value.find((a=>a.id===e));a&&(xe.value=xe.value.filter((a=>a.id!==e)),we.value=[...we.value,a])}))},deleteById:async e=>{await n(e).then((()=>xe.value=xe.value.filter((a=>a.id!==e))))}}},Ie=u({name:"QBreadcrumbs",setup(){const e=s(),{t:a}=r(),{token:l}=R(),n=t((()=>{const t=new Map;return e.matched.forEach((e=>{if(e.meta?.title){if(e.meta?.parentKey){const l=`/${e.meta.parentKey}`;if(!t.has(l)){const n=a(`nav.${e.meta.parentKey}`);t.set(l,{path:l,title:n})}}t.set(e.path,{path:e.path,title:a(e.meta.title)})}})),Array.from(t.values())})),o=t((()=>({backgroundColor:l.value.colorBgContainer,paddingBlock:`${l.value.paddingXXS}px`,paddingInline:`${l.value.padding}px`,borderRadius:`${l.value.borderRadiusLG}px`,marginBottom:`${l.value.marginXXS}px`,maxWidth:"max-content"})));return()=>{let e;return d(P,{gap:"small",align:"center",style:o.value},{default:()=>{return[d(q,null,null),d(H,null,(a=e=n.value.map((e=>d(H.Item,{key:e.path},{default:()=>[d(c("router-link"),{to:e.path,class:"q-breadcrumbs-link"},{default:()=>[e.title]})]}))),"function"==typeof a||"[object Object]"===Object.prototype.toString.call(a)&&!i(a)?e:{default:()=>[e]}))];var a}})}}}),Se=ve(u({name:"QLayoutContent",__name:"content",setup(e){p((e=>({"3fb18556":m(a).colorBgElevated})));const{token:a}=R();return(e,a)=>{const t=c("RouterView");return v(),g(m(W),{class:"layout-content"},{default:y((()=>[d(m(Ie)),d(t,null,{default:y((({Component:e,route:a})=>[d(f,{name:"fade",mode:"out-in"},{default:y((()=>[(v(),g(h(e),{key:a.path}))])),_:2},1024)])),_:1})])),_:1})}}}),[["__scopeId","data-v-d50e910d"]]),Be=u({name:"QNotificationEmpty",setup(){const{t:e}=r();return()=>d(X,{description:e("common.notification.empty")},null)}});function Ue(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!i(e)}const Qe=u({name:"QNotificationMessage",props:{type:{type:String,required:!0},message:{type:Object,required:!0}},setup(e){const{markAsRedById:a,deleteById:n}=Ce(),{token:o}=R(),{t:u}=r(),s=l(!1),c=t((()=>({padding:`${o.value.padding}px`}))),i={markAsRedById:e=>a(e),deleteById:e=>n(e)},p=async(e,a)=>{s.value=!0,await i[a](e),s.value=!1},m=t((()=>u(ye[e.message.type])));return()=>{let a,t;return d(he,{spinning:s.value},{default:()=>[d(P,{vertical:!0,gap:"small",style:c},{default:()=>[d(P,{justify:"space-between",align:"center"},{default:()=>[d(z.Text,null,{default:()=>[e.message.sendUser.username]}),d(G,{color:fe[e.message.type]},{default:()=>[m.value]})]}),d(z.Text,null,{default:()=>[e.message.content]}),d(P,{justify:"space-between",align:"center"},{default:()=>[d(z.Text,null,{default:()=>[e.message.create_time]}),d(P,{gap:"small"},{default:()=>["unread"===e.type&&d(V,{type:"link",size:"small",onClick:()=>p(e.message.id,"markAsRedById")},Ue(a=u("common.notification.markAsRead"))?a:{default:()=>[a]}),d(V,{type:"link",size:"small",danger:!0,onClick:()=>p(e.message.id,"deleteById")},Ue(t=u("common.notification.delete"))?t:{default:()=>[t]})]})]})]})]})}}}),Re=u({name:"QNotificationRead",setup(){const{read:e}=Ce();return()=>d(P,{vertical:!0,gap:"middle"},{default:()=>[e.value.length?e.value.map((e=>d(Qe,{type:"read",key:e.id,message:e},null))):d(Be,null,null)]})}}),$e=u({name:"QNotificationUnread",setup(){const{unread:e}=Ce();return()=>d(P,{vertical:!0,gap:"middle"},{default:()=>[e.value.length?e.value.map((e=>d(Qe,{type:"unread",key:e.id,message:e},null))):d(Be,null,null)]})}}),Ke=u({name:"QNotificationPopoverContent",setup(){const e=l("unread"),{unread:a,read:n}=Ce(),{t:o}=r(),u=t((()=>[{label:`${o("common.notification.unread")}${a.value.length?`(${a.value.length})`:""}`,key:"unread",component:$e},{label:`${o("common.notification.read")}${n.value.length?`(${n.value.length})`:""}`,key:"read",component:Re}])),s={width:"420px"};return()=>{let a;return d("div",{style:s},[d(Y,{activeKey:e.value,"onUpdate:activeKey":a=>e.value=a},(t=a=u.value.map((e=>d(F,{key:e.key,tab:e.label},{default:()=>[d(e.component,null,null)]}))),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!i(t)?a:{default:()=>[a]}))]);var t}}}),Oe=u({name:"QNotificationPopover",setup(){const e=t((()=>({maxHeight:"420px",overflowY:"auto"}))),{isHaveUnread:a}=Ce();return()=>d(J,{trigger:"click",placement:"bottomRight",style:e},{content:()=>d(Ke,null,null),default:()=>d(Z,{dot:a.value},{default:()=>[d(V,{shape:"circle",icon:d(ee,null,null)},null)]})})}}),Ae=u({name:"QLocalSelect",setup(){const{localeOptions:e}=O(),{changeLocale:a}=A();t((()=>({width:"100px"})));const l=t((()=>e.map((e=>({label:e.label,key:e.value})))));return()=>d(te,{trigger:["click","hover"],overlay:d(ae,{items:l.value,onClick:e=>{return t=e.key,void a(t);var t}},null)},{default:()=>[d(V,{icon:d(le,null,null),shape:"circle"},null)]})}}),Ne=u({name:"QThemeSwitch",setup(){const{isDark:e,toggleTheme:a}=N();return()=>d(ne,{checked:e.value,onChange:()=>a(),"checked-children":"ðŸŒ™","un-checked-children":"â˜€ï¸"},null)}}),Le=ve(u({name:"UserDropdown",__name:"user-dropdown",setup(e){p((e=>({"5feec1b2":m(C).colorText})));const{t:t}=r(),n=w((()=>T((()=>a.import("./index-legacy-BTH7uFeQ.js")),void 0))),o=L(),u={gap:"small",align:"center"},s=[be("/dashboard",t("user.dropdown.menu.dashboard"),k(oe)),be("update-password",t("user.dropdown.menu.password"),k(ue)),be("update-avatar",t("user.dropdown.menu.avatar"),k(ue)),be("logout",t("user.dropdown.menu.logout"),k(se))],c=l(!1),i=l(je.PASSWORD),f=e=>{i.value=e,c.value=!0},h=e=>{switch(e.key){case"logout":o.logout();break;case"update-password":f(je.PASSWORD);break;case"update-avatar":f(je.AVATAR);break;default:D.push(e.key)}},{token:C}=R();return(e,a)=>(v(),g(m(_e),{loading:!m(o).userInfo?.staffPhoto,avatar:"",paragraph:!1},{default:y((()=>[d(m(P),_(b(u)),{default:y((()=>[d(m(te),null,{overlay:y((()=>[d(m(ae),{items:s,onClick:h})])),default:y((()=>[d(m(re),{gap:"middle"},{default:y((()=>[d(m(de),{class:"user-username"},{default:y((()=>[j(x(m(o).userInfo?.username),1)])),_:1}),d(m(ke),{size:"large",src:m(o).userInfo?.staffPhoto},null,8,["src"])])),_:1})])),_:1}),d(m(n),{type:i.value,"onUpdate:type":a[0]||(a[0]=e=>i.value=e),open:c.value,"onUpdate:open":a[1]||(a[1]=e=>c.value=e)},null,8,["type","open"])])),_:1},16)])),_:1},8,["loading"]))}}),[["__scopeId","data-v-537ed710"]]),Te={class:"flex-1"},De=ve(u({name:"QLayoutHeader",__name:"header",props:{collapsed:{default:!1},collapsedModifiers:{}},emits:C(["changeCollapsed"],["update:collapsed"]),setup(e,{emit:a}){p((e=>({d3649c36:m(o).colorBgContainer,"3b75b35e":m(o).colorBorderSecondary,c1c145b8:m(o).colorText})));const t=a,l=I(e,"collapsed"),n={align:"center",justify:"space-between"},{token:o}=R();return(e,a)=>(v(),g(m(ce),{class:"layout-header"},{default:y((()=>[d(m(P),_(b(n)),{default:y((()=>[S("div",Te,[l.value?(v(),g(m(ie),{key:0,class:"trigger layout-header-collapsed-icon",onClick:a[0]||(a[0]=e=>t("changeCollapsed"))})):(v(),g(m(pe),{key:1,class:"trigger layout-header-collapsed-icon",onClick:a[1]||(a[1]=e=>t("changeCollapsed"))}))]),d(m(P),{gap:"large",align:"center"},{default:y((()=>[d(m(Ne)),d(m(Oe)),d(m(Ae)),d(Le)])),_:1}),a[2]||(a[2]=j(", "))])),_:1},16)])),_:1}))}}),[["__scopeId","data-v-3bf19e72"]]),Ee={class:"logo-container"},Me=ve(u({name:"QLogo",__name:"logo",setup:e=>(e,a)=>(v(),B("div",Ee,[d(m(U),{to:"/"},{default:y((()=>a[0]||(a[0]=[S("img",{class:"logo",src:"/sass-hrm/images/logo-CWnL_6xh.png",alt:"logo"},null,-1)]))),_:1})]))}),[["__scopeId","data-v-09d7471b"]]),Pe=u({name:"QLayoutSider",__name:"sider",props:{collapsed:{type:Boolean,default:!1},collapsedModifiers:{}},emits:["update:collapsed"],setup(e){p((e=>({c4679002:m(b).colorBgContainer})));const{t:a}=r(),{getRoutes:n}=E(),o=s(),u=I(e,"collapsed"),c=t((()=>o.meta?.parentKey?[`/${o.meta.parentKey}`]:[o.path])),i=l([]);Q((()=>o.path),(e=>{const a=o.matched.slice(0,-1).map((e=>e.path)).filter((e=>"/"!==e));u.value||(i.value=a)}),{immediate:!0}),Q(u,(e=>{e&&(i.value=[])}));const f=({key:e})=>{D.push(e)},h=e=>{i.value=e},{themeStatus:_}=N(),{token:b}=R(),j=t((()=>n().filter((e=>e.meta)).filter((e=>e.meta.title&&!e.meta.hidden)).sort(((e,a)=>(e.meta.index??0)-(a.meta.index??0))).map((e=>be(e.path,a(e.meta.title),"string"==typeof e.meta.icon?k(e.meta.icon):e.meta.icon)))));return(e,a)=>(v(),g(m(me),{width:"150",class:"layout-sider",collapsed:u.value,"onUpdate:collapsed":a[2]||(a[2]=e=>u.value=e),trigger:null,collapsible:"",theme:m(_)},{default:y((()=>[d(Me),d(m(ae),{theme:m(_),mode:"inline",selectedKeys:c.value,"onUpdate:selectedKeys":a[0]||(a[0]=e=>c.value=e),openKeys:i.value,"onUpdate:openKeys":a[1]||(a[1]=e=>i.value=e),items:j.value,onClick:f,onOpenChange:h,class:"layout-sider-menu"},null,8,["theme","selectedKeys","openKeys","items"])])),_:1},8,["collapsed","theme"]))}}),qe=ve(Pe,[["__scopeId","data-v-104a62d7"]]);e("default",ve(u({name:"LayoutDefault",__name:"default",setup(e){p((e=>({"3060e816":m(u).colorBgContainer})));const a=l(!0),t=e=>{a.value=void 0!==e?e:!a.value},{token:u}=R(),{getUserNotification:s}=Ce();return((e,a={})=>{const{interval:t=3e4,immediate:l=!0,autoStart:u=!0}=a;let s=null;const r=()=>{l&&e(),s=setInterval(e,t)},d=()=>{s&&(clearInterval(s),s=null)};n((()=>{u&&r()})),o((()=>{d()}))})((async()=>{await s()}),{interval:3e3,immediate:!0,autoStart:!0}),(e,l)=>(v(),g(m(ge),{class:"layout-default"},{default:y((()=>[d(qe,{collapsed:a.value},null,8,["collapsed"]),d(m(ge),{class:"layout-main"},{default:y((()=>[d(De,{collapsed:a.value,onChangeCollapsed:t},null,8,["collapsed"]),d(Se,{class:"layout-content"})])),_:1})])),_:1}))}}),[["__scopeId","data-v-5b298699"]]))}}}));
