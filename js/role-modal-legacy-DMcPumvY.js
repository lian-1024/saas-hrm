System.register(["./employee.service-legacy-O6MHfj5Y.js","./role.service-legacy-Cy3QUHZR.js","./modal.vue_vue_type_script_setup_true_lang-legacy-7ayigm6Q.js","./spin-legacy-NTWxnDiJ.js","./index-legacy-FCYPyWIL.js","./vue-vendor-legacy-x9FjLCOD.js","./antd-vendor-legacy-C9XdHwF7.js","./_plugin-vue_export-helper-legacy-DgAO6S8O.js","./index-legacy-CHUU-5It.js","./axios-vendor-legacy-B4nRALG8.js","./lodash-vendor-legacy-D6Hi_gR3.js"],(function(e,l){"use strict";var a,o,n,s,t,u,r,d,c,i,p,m,v,y,g,_,f,j,I,M,h,x,E,k,R;return{setters:[e=>{a=e.E},e=>{o=e.R},e=>{n=e._},e=>{s=e.Q},e=>{t=e.u},e=>{u=e.d,r=e.af,d=e.a5,c=e.ag,i=e.r,p=e.k,m=e.j,v=e.a2,y=e.a3,g=e.a4,_=e.c,f=e.u,j=e.ah,I=e.G,M=e.ad},e=>{h=e.h,x=e.$,E=e.F,k=e.B},e=>{R=e._},null,null,null],execute:function(){const l={class:"modal-content"};e("default",R(u({name:"RoleModal",__name:"role-modal",props:r({employeeId:{}},{open:{default:!1},openModifiers:{}}),emits:["update:open"],setup(e){const{t:u}=d(),r=e,R=c(e,"open"),S=i([]),C=i([]),{loading:b}=t(o.getRoleListEnable,{onSuccess:({data:e})=>{C.value=e.map((e=>({value:e.id,label:e.name})))}}),{run:w,loading:B}=t(a.getEmployeeDetailById,{manual:!0,onSuccess:({data:e})=>{S.value=e.roleIds}}),{run:D,loading:U}=t(a.giveEmployeeRole,{manual:!0,onSuccess:()=>{h.success(u("employee.roleModal.success"))},onError:e=>{e.message?h.error(e.message):h.error(u("employee.roleModal.error"))}}),F=()=>{R.value=!1},G=async()=>{await D({id:r.employeeId,roleIds:S.value}),F()},J=()=>{F()};p((()=>{r.employeeId&&w(r.employeeId)}));const L=m((()=>b.value||B.value));return(e,a)=>(y(),v(f(n),{"confirm-loading":f(U),width:800,mask:"",open:R.value,"onUpdate:open":a[1]||(a[1]=e=>R.value=e),title:f(u)("employee.roleModal.title"),onCancel:J},{footer:g((()=>[_(f(E),{gap:"small",justify:"center"},{default:g((()=>[_(f(k),{type:"primary",onClick:G},{default:g((()=>[I(M(f(u)("employee.roleModal.confirm")),1)])),_:1}),_(f(k),{onClick:J},{default:g((()=>[I(M(f(u)("employee.roleModal.cancel")),1)])),_:1})])),_:1})])),default:g((()=>[_(f(s),{spinning:L.value},{default:g((()=>[j("div",l,[_(f(x),{value:S.value,"onUpdate:value":a[0]||(a[0]=e=>S.value=e),options:C.value},null,8,["value","options"])])])),_:1},8,["spinning"])])),_:1},8,["confirm-loading","open","title"]))}}),[["__scopeId","data-v-21a6f2d1"]]))}}}));
