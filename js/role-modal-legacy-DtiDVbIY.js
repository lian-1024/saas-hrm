System.register(["./employee.service-legacy-SekvOuJR.js","./role.service-legacy-CrcQRz12.js","./modal.vue_vue_type_script_setup_true_lang-legacy-B8VAqqil.js","./spin-legacy-CX9iz6gd.js","./index-legacy-Dr3Ksir8.js","./vue-vendor-legacy-ikyms0Ip.js","./antd-vendor-legacy-DsFsidym.js","./_plugin-vue_export-helper-legacy-DgAO6S8O.js","./index-legacy-D_zaI8lQ.js","./axios-vendor-legacy-B4nRALG8.js","./lodash-vendor-legacy-k_izlGWN.js"],(function(e,l){"use strict";var a,o,n,s,t,u,r,d,i,c,p,m,v,y,g,_,f,j,I,M,h,k,x,E,C;return{setters:[e=>{a=e.E},e=>{o=e.R},e=>{n=e._},e=>{s=e.Q},e=>{t=e.u},e=>{u=e.d,r=e.ah,d=e.a7,i=e.ai,c=e.r,p=e.k,m=e.j,v=e.a4,y=e.a5,g=e.a6,_=e.c,f=e.u,j=e.aj,I=e.G,M=e.af},e=>{h=e.h,k=e.Y,x=e.F,E=e.B},e=>{C=e._},null,null,null],execute:function(){const l={class:"modal-content"};e("default",C(u({name:"RoleModal",__name:"role-modal",props:r({employeeId:{}},{open:{default:!1},openModifiers:{}}),emits:["update:open"],setup(e){const{t:u}=d(),r=e,C=i(e,"open"),R=c([]),S=c([]),{loading:b}=t(o.getRoleListEnable,{onSuccess:({data:e})=>{S.value=e.map((e=>({value:e.id,label:e.name})))}}),{run:w,loading:B}=t(a.getEmployeeDetailById,{manual:!0,onSuccess:({data:e})=>{R.value=e.roleIds}}),{run:U,loading:D}=t(a.giveEmployeeRole,{manual:!0,onSuccess:()=>{h.success(u("employee.roleModal.success"))},onError:e=>{e.message?h.error(e.message):h.error(u("employee.roleModal.error"))}}),F=()=>{C.value=!1},G=async()=>{await U({id:r.employeeId,roleIds:R.value}),F()},H=()=>{F()};p((()=>{r.employeeId&&w(r.employeeId)}));const L=m((()=>b.value||B.value));return(e,a)=>(y(),v(f(n),{"confirm-loading":f(D),width:800,mask:"",open:C.value,"onUpdate:open":a[1]||(a[1]=e=>C.value=e),title:f(u)("employee.roleModal.title"),onCancel:H},{footer:g((()=>[_(f(x),{gap:"small",justify:"center"},{default:g((()=>[_(f(E),{type:"primary",onClick:G},{default:g((()=>[I(M(f(u)("employee.roleModal.confirm")),1)])),_:1}),_(f(E),{onClick:H},{default:g((()=>[I(M(f(u)("employee.roleModal.cancel")),1)])),_:1})])),_:1})])),default:g((()=>[_(f(s),{spinning:L.value},{default:g((()=>[j("div",l,[_(f(k),{value:R.value,"onUpdate:value":a[0]||(a[0]=e=>R.value=e),options:S.value},null,8,["value","options"])])])),_:1},8,["spinning"])])),_:1},8,["confirm-loading","open","title"]))}}),[["__scopeId","data-v-21a6f2d1"]]))}}}));
