import{D as ne}from"./department.service-BCxqcPIw.js";import{_ as le}from"./modal.vue_vue_type_script_setup_true_lang-BGdz2b2r.js";import{Q as P}from"./skeleton-BLzL0NKa.js";import{i as x,u as B}from"./index-Dae1U06w.js";import{d as V,a7 as W,r as S,a as se,j as G,w as X,o as Q,a4 as F,a5 as k,a6 as a,c as t,u as e,G as p,a9 as j,F as K,al as Y,af as r,aq as de,aj as oe,ai as ue,ac as ie}from"./vue-vendor-BX3z0DRI.js";import{h as M,ah as U,ak as Z,F as f,al as q,ag as z,ap as A,aq as R,J as m,S as $,ai as w,$ as re,Z as ce,aA as ee,aB as pe,aC as me,s as ve,u as fe,B as te}from"./antd-vendor-ChGXved8.js";import{E as J}from"./status-Bkxi8BcS.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BUvr80Hr.js";import"./axios-vendor-cIIFlI1p.js";import"./lodash-vendor-C1hxrrCz.js";class H{static getAttendanceSettingById(c){return x.get("/cfg/atte/item",{params:{departmentId:c}})}static updateAttendanceSetting(c){return x.put("/cfg/atte",{data:c})}static getLeaveSettingByDepartmentId(c){return x.get("/cfg/leave/list",{params:{departmentId:c}})}static updateLeaveSetting(c){return x.post("/cfg/leave",{data:c})}static getDeductionSettingByDepartmentId(c){return x.get("/cfg/ded/list",{params:{departmentId:c}})}static updateDeductionSetting(c){return x.post("/cfg/deduction",{data:c})}static getOverTimeSettingByDepartmentId(c){return x.get("/cfg/extDuty/item",{params:{departmentId:c}})}static updateOverTimeSetting(c){return x.put("/cfg/extDuty",{data:c})}}const ge=V({name:"TabAttendance",__name:"attendance",props:{departmentOptions:{}},setup(O,{expose:c}){const{t:o}=W(),b=O,_={departmentId:[{required:!0,message:o("attendance.settings.attendance.rules.selectDepartment")}]},g=S(),u=S(1),i=se({morningStartTime:"",morningEndTime:"",afternoonStartTime:"",afternoonEndTime:"",departmentId:u.value,id:1,companyId:1}),E={span:4},L={span:16},{run:I,loading:y}=B(H.getAttendanceSettingById,{manual:!0,onSuccess:({data:v})=>{Object.assign(i,v)},onError:v=>{console.log("message",v)}}),{run:h}=B(H.updateAttendanceSetting,{manual:!0,onSuccess:()=>{var v;M.success(o("attendance.settings.attendance.messages.updateSuccess")),(v=g.value)==null||v.resetFields()},onError:v=>{M.error(o("attendance.settings.attendance.messages.updateError"))}}),D=G(()=>!!(i.morningStartTime&&i.morningEndTime&&i.afternoonStartTime&&i.afternoonEndTime));return X(()=>u.value,v=>{i.departmentId=v,I(v)}),Q(()=>{if(!b.departmentOptions)return;const v=b.departmentOptions[0].value||0;u.value=+v,I(u.value)}),c({handleSubmit:async()=>{g.value&&D.value&&await g.value.validateFields().then(()=>h({...i,companyId:+i.companyId}))}}),(v,d)=>(k(),F(e(z),{ref_key:"formRef",ref:g,"label-col":E,model:i,"wrapper-col":L,rules:_},{default:a(()=>[t(e(U),{label:e(o)("attendance.settings.attendance.department"),model:i,name:"departmentId"},{default:a(()=>[t(e(Z),{options:v.departmentOptions,value:u.value,"onUpdate:value":d[0]||(d[0]=l=>u.value=l)},null,8,["options","value"])]),_:1},8,["label","model"]),t(e(P),{title:!1,active:"",loading:e(y),paragraph:{rows:8}},{default:a(()=>[t(e(U),{label:e(o)("attendance.settings.attendance.attendanceTime"),"validate-status":D.value?"success":"error",help:D.value?"":e(o)("attendance.settings.attendance.rules.selectDate")},{default:a(()=>[t(e(f),{gap:"middle",vertical:""},{default:a(()=>[t(e(f),{gap:"small",align:"center"},{default:a(()=>[t(e(q),{picker:"time","value-format":"HH:mm:ss",value:i.morningStartTime,"onUpdate:value":d[1]||(d[1]=l=>i.morningStartTime=l)},null,8,["value"]),d[5]||(d[5]=p(" - ")),t(e(q),{picker:"time","value-format":"HH:mm:ss",value:i.morningEndTime,"onUpdate:value":d[2]||(d[2]=l=>i.morningEndTime=l)},null,8,["value"])]),_:1}),t(e(f),{gap:"small",align:"center"},{default:a(()=>[t(e(q),{picker:"time","value-format":"HH:mm:ss",value:i.afternoonStartTime,"onUpdate:value":d[3]||(d[3]=l=>i.afternoonStartTime=l)},null,8,["value"]),d[6]||(d[6]=p(" - ")),t(e(q),{picker:"time","value-format":"HH:mm:ss",value:i.afternoonEndTime,"onUpdate:value":d[4]||(d[4]=l=>i.afternoonEndTime=l)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["label","validate-status","help"])]),_:1},8,["loading"])]),_:1},8,["model"]))}}),be=V({name:"TabDeduction",__name:"deduction",props:{departmentOptions:{}},setup(O,{expose:c}){const{t:o}=W(),b={51e3:o("attendance.settings.deduction.deductionType.beLate"),52e3:o("attendance.settings.deduction.deductionType.leaveEarly"),53e3:o("attendance.settings.deduction.deductionType.absenteeism")},_=O,g=S(),u=S([]),{run:i,loading:E}=B(H.getDeductionSettingByDepartmentId,{manual:!0,onSuccess:({data:d})=>{u.value=d}});Q(()=>{if(!_.departmentOptions)return;const d=_.departmentOptions[0].value||0;g.value=+d,i(g.value)});const L=(d,l)=>u.value.forEach(n=>n.dedTypeCode===l&&(n.isEnable=d)),I=(d,l)=>{const n=d?J.ENABLED:J.DISABLED;L(n,l.dedTypeCode)},y=d=>b[d],{run:h}=B(H.updateDeductionSetting,{manual:!0,onSuccess:()=>{M.success(o("attendance.settings.deduction.messages.updateSuccess"))},onError:()=>{M.error(o("attendance.settings.deduction.messages.updateError"))}}),D=async()=>{await h(u.value)};X(()=>g.value,d=>{i(d)}),c({handleSubmit:D});const N={span:4},v={span:16};return(d,l)=>(k(),F(e(z),{"label-col":N,"wrapper-col":v},{default:a(()=>[t(e(U),{label:e(o)("attendance.settings.deduction.department"),name:"departmentId"},{default:a(()=>[t(e(Z),{options:d.departmentOptions,value:g.value,"onUpdate:value":l[0]||(l[0]=n=>g.value=n)},null,8,["options","value"])]),_:1},8,["label"]),t(e(P),{title:!1,active:"",loading:e(E),paragraph:{rows:8}},{default:a(()=>[t(e(U),{class:"deduction-content"},{default:a(()=>[t(e(f),{vertical:""},{default:a(()=>[(k(!0),j(K,null,Y(u.value,n=>(k(),F(e(f),{vertical:"",gap:"large",key:n.id},{default:a(()=>[+n.isAbsenteeism?(k(),j(K,{key:1},[t(e(A),null,{default:a(()=>[t(e(R),{span:"4"},{default:a(()=>[t(e(f),{align:"center",gap:"small"},{default:a(()=>[t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(y(n.dedTypeCode))+"扣款",1)]),_:2},1024),t(e($),{checked:!!n.isEnable,onChange:s=>I(!!s,n)},null,8,["checked","onChange"])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(e(A),null,{default:a(()=>[t(e(R),{span:"10",offset:"4"},{default:a(()=>[t(e(f),{align:"center",gap:"small"},{default:a(()=>[t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(y(n.dedTypeCode))+"按",1)]),_:2},1024),t(e(w),{class:"deduction-input",value:n.fineSalaryMultiples,"onUpdate:value":s=>n.fineSalaryMultiples=s,type:"number"},null,8,["value","onUpdate:value"]),t(e(m),{class:"deduction-text"},{default:a(()=>l[1]||(l[1]=[p("部工资处罚")])),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)],64)):(k(),j(K,{key:0},[t(e(A),null,{default:a(()=>[t(e(R),{span:"4"},{default:a(()=>[t(e(f),{align:"center",gap:"small"},{default:a(()=>[t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(y(n.dedTypeCode))+r(e(o)("attendance.settings.deduction.deduction")),1)]),_:2},1024),t(e($),{checked:!!n.isEnable,onChange:s=>I(!!s,n)},null,8,["checked","onChange"])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(e(A),null,{default:a(()=>[t(e(R),{span:"8",offset:"4"},{default:a(()=>[t(e(f),{align:"center",gap:"small"},{default:a(()=>[t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(y(n.dedTypeCode))+"≤",1)]),_:2},1024),t(e(w),{class:"deduction-input",value:n.periodLowerLimit,"onUpdate:value":s=>n.periodLowerLimit=s,type:"number"},null,8,["value","onUpdate:value"]),t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(e(o)("attendance.settings.deduction.minutes")),1)]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024),t(e(A),null,{default:a(()=>[t(e(R),{span:"14",offset:"6"},{default:a(()=>[t(e(f),{align:"center",gap:"small"},{default:a(()=>[t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(y(n.dedTypeCode))+"≤",1)]),_:2},1024),t(e(w),{class:"deduction-input",value:n.timesLowerLimit,"onUpdate:value":s=>n.timesLowerLimit=s,type:"number"},null,8,["value","onUpdate:value"]),t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(e(o)("attendance.settings.deduction.times"))+","+r(e(o)("attendance.settings.deduction.perTime")),1)]),_:1}),t(e(w),{class:"deduction-input",value:n.dedAmonutLowerLimit,"onUpdate:value":s=>n.dedAmonutLowerLimit=s,type:"number"},null,8,["value","onUpdate:value"]),t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(e(o)("attendance.settings.deduction.yuan")),1)]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024),t(e(A),null,{default:a(()=>[t(e(R),{span:"14",offset:"6"},{default:a(()=>[t(e(f),{align:"center",gap:"small"},{default:a(()=>[t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(y(n.dedTypeCode))+">",1)]),_:2},1024),t(e(w),{disabled:"",class:"deduction-input",value:n.timesUpperLimit,"onUpdate:value":s=>n.timesUpperLimit=s,type:"number"},null,8,["value","onUpdate:value"]),t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(e(o)("attendance.settings.deduction.times"))+","+r(e(o)("attendance.settings.deduction.perTime")),1)]),_:1}),t(e(w),{class:"deduction-input",value:n.dedAmonutUpperLimit,"onUpdate:value":s=>n.dedAmonutUpperLimit=s,type:"number"},null,8,["value","onUpdate:value"]),t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(e(o)("attendance.settings.deduction.yuan")),1)]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024),t(e(A),null,{default:a(()=>[t(e(R),{span:"8",offset:"4"},{default:a(()=>[t(e(f),{align:"center",gap:"small"},{default:a(()=>[t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(y(n.dedTypeCode))+">",1)]),_:2},1024),t(e(w),{disabled:"",class:"deduction-input",value:n.periodUpperLimit,"onUpdate:value":s=>n.periodUpperLimit=s,type:"number"},null,8,["value","onUpdate:value"]),t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(e(o)("attendance.settings.deduction.minutes")),1)]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024),t(e(A),null,{default:a(()=>[t(e(R),{span:"14",offset:"6"},{default:a(()=>[t(e(f),{align:"center",gap:"small"},{default:a(()=>[t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(y(n.dedTypeCode))+"≤",1)]),_:2},1024),t(e(w),{disabled:"",class:"deduction-input",value:n.absenceTimesUpperLimt,"onUpdate:value":s=>n.absenceTimesUpperLimt=s,type:"number"},null,8,["value","onUpdate:value"]),t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(e(o)("attendance.settings.deduction.times"))+","+r(e(o)("attendance.settings.deduction.perTime")),1)]),_:1}),t(e(w),{class:"deduction-input",value:n.absenceDays,"onUpdate:value":s=>n.absenceDays=s,type:"number"},null,8,["value","onUpdate:value"]),t(e(m),{class:"deduction-text"},{default:a(()=>[p(r(e(o)("attendance.settings.deduction.days")),1)]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)],64))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1}))}}),ye=ae(be,[["__scopeId","data-v-a1b6ec08"]]),_e=V({__name:"leave",props:{departmentOptions:{}},setup(O,{expose:c}){const o=O,{t:b}=W(),_={6e4:"年假",60100:"事假",60200:"病假",60300:"婚假",60400:"丧假",60500:"产假",60600:"奖励产假",60700:"陪产假",60800:"探亲假",60900:"工伤假",61e3:"调休假",61100:"产检假",61200:"流产假",61300:"长期病假"},g=[{key:"leaveType"},{title:b("attendance.settings.leave.name"),dataIndex:"name",key:"name"},{title:b("attendance.settings.leave.isEnabled"),dataIndex:"isEnable",key:"isEnable"}],u=S(),i=S(),E=d=>d.map(({companyId:l,...n})=>({...n,name:_[n.leaveType]})),{run:L,loading:I}=B(H.getLeaveSettingByDepartmentId,{manual:!0,onSuccess:({data:d})=>{console.log(d),i.value=E(d)}}),y=(d,l)=>{l.isEnable=d?J.ENABLED:J.DISABLED},{run:h}=B(H.updateLeaveSetting,{manual:!0,onSuccess:()=>{M.success(b("attendance.settings.leave.messages.updateSuccess"))},onError:()=>{M.error(b("attendance.settings.leave.messages.updateError"))}}),D=async()=>{console.log(i.value),await h(i.value)};X(u,d=>{L(d)}),c({handleSubmit:D}),Q(()=>{if(!o.departmentOptions)return;const d=o.departmentOptions[0].value||0;u.value=+d,L(u.value)});const N={span:4},v={span:16};return(d,l)=>(k(),j("div",null,[t(e(z),{"label-col":N,"wrapper-col":v},{default:a(()=>[t(e(U),{label:e(b)("attendance.settings.leave.department"),name:"departmentId"},{default:a(()=>[t(e(Z),{value:u.value,"onUpdate:value":l[0]||(l[0]=n=>u.value=n),options:d.departmentOptions},null,8,["value","options"])]),_:1},8,["label"])]),_:1}),t(e(P),{title:!1,active:"",loading:e(I),paragraph:{rows:8}},{default:a(()=>[t(e(re),{pagination:!1,columns:g,"data-source":i.value},{bodyCell:a(({column:n,record:s})=>[n.dataIndex==="isEnable"?(k(),F(e($),{key:0,checked:!!s.isEnable,onChange:T=>y(!!T,s)},null,8,["checked","onChange"])):de("",!0)]),_:1},8,["data-source"])]),_:1},8,["loading"])]))}}),Se={class:"numeric-input-title"},Te=V({name:"TabOvertime",__name:"overtime",props:{departmentOptions:{}},setup(O,{expose:c}){const{t:o}=W(),b=O,_=S(0),g=l=>{if(!l)return{departmentId:_.value,isClock:0,isCompensationint:0,latestEffectDate:"",unit:"1",rules:[]};const{dayOffConfigs:n,extraDutyConfig:s,extraDutyRuleList:T}=l;return{departmentId:s.departmentId,isClock:s.isClock,isCompensationint:s.isCompensationint,latestEffectDate:n.latestEffectDate,unit:n.unit,rules:T.map(C=>({departmentId:C.departmentId,isEnable:C.isEnable,isTimeOff:C.isTimeOff,rule:C.rule,ruleEndTime:C.ruleEndTime,ruleStartTime:C.ruleStartTime}))}},u=S({departmentId:0,isClock:0,isCompensationint:0,latestEffectDate:"",unit:"1",rules:[{departmentId:0,isEnable:0,isTimeOff:0,rule:"Workday",ruleStartTime:"",ruleEndTime:""}]}),i=G(()=>{var n;const l=[o("attendance.settings.overtime.workday"),o("attendance.settings.overtime.restDay"),o("attendance.settings.overtime.holiday")];return(n=u.value)==null?void 0:n.rules.map((s,T)=>({...s,rule:l[T]}))}),E=(l,n,s)=>{var T;(T=u.value)!=null&&T.rules[l]&&(u.value.rules[l]={...u.value.rules[l],[n]:s})},L=G({get:()=>{var l;return!!((l=u.value)!=null&&l.isClock)},set:l=>{u.value&&(u.value.isClock=l?1:0)}}),I=G({get:()=>{var l;return!!((l=u.value)!=null&&l.isCompensationint)},set:l=>{u.value&&(u.value.isCompensationint=l?1:0)}}),{run:y,loading:h}=B(H.getOverTimeSettingByDepartmentId,{manual:!0,onSuccess:({data:l})=>{u.value=g(l)}}),{run:D}=B(H.updateOverTimeSetting,{manual:!0,onSuccess:()=>{M.success(o("attendance.settings.overtime.messages.updateSuccess"))},onError:()=>{M.error(o("attendance.settings.overtime.messages.updateError"))}});c({handleSubmit:async()=>{console.log(u.value),await D(u.value)}}),Q(()=>{if(!b.departmentOptions)return;const l=b.departmentOptions[0].value||0;_.value=+l,y(_.value)});const v={span:4},d={span:16};return(l,n)=>(k(),F(e(z),{"label-col":v,"wrapper-col":d,model:u.value,class:"w-full"},{default:a(()=>[t(e(U),{label:e(o)("attendance.settings.overtime.department"),name:"departmentId"},{default:a(()=>[t(e(Z),{value:_.value,"onUpdate:value":n[0]||(n[0]=s=>_.value=s),options:l.departmentOptions},null,8,["value","options"])]),_:1},8,["label"]),t(e(P),{active:"",title:!1,loading:e(h),paragraph:{rows:8}},{default:a(()=>[t(e(U),{label:e(o)("attendance.settings.overtime.overtimeRules")},{default:a(()=>[t(e(f),{vertical:"",gap:"middle"},{default:a(()=>[(k(!0),j(K,null,Y(i.value,(s,T)=>(k(),F(e(f),{wrap:"wrap",key:T,justify:"space-between",gap:"large",align:"center"},{default:a(()=>[t(e(f),{span:"12",gap:"small"},{default:a(()=>[t(e($),{checked:!!s.isEnable,onChange:C=>E(T,"isEnable",C?1:0)},null,8,["checked","onChange"]),t(e(m),{class:"nowrap"},{default:a(()=>[p(r(s.rule),1)]),_:2},1024)]),_:2},1024),t(e(f),{gap:"small",align:"center"},{default:a(()=>[t(e(ce),{checked:!!s.isTimeOff,onChange:C=>E(T,"isTimeOff",C.target.checked?1:0)},null,8,["checked","onChange"]),t(e(m),{disabled:!s.isTimeOff,class:"nowrap"},{default:a(()=>[p(r(e(o)("attendance.settings.overtime.timeOff")),1)]),_:2},1032,["disabled"]),t(e(ee),{valueFormat:"mm:ss",disabled:!s.isTimeOff,class:"overtime-input",value:s.ruleStartTime,onChange:C=>E(T,"ruleStartTime",C)},null,8,["disabled","value","onChange"]),t(e(ee),{valueFormat:"mm:ss",disabled:!s.isTimeOff,class:"overtime-input",value:s.ruleEndTime,onChange:C=>E(T,"ruleEndTime",C)},null,8,["disabled","value","onChange"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["label"]),t(e(U),{label:e(o)("attendance.settings.overtime.clockValidation")},{default:a(()=>[t(e(f),{gap:"small",align:"center"},{default:a(()=>[t(e($),{checked:L.value,"onUpdate:checked":n[1]||(n[1]=s=>L.value=s)},null,8,["checked"]),t(e(m),{class:"nowrap"},{default:a(()=>[p(r(e(o)("attendance.settings.overtime.clockRequired")),1)]),_:1})]),_:1})]),_:1},8,["label"]),t(e(U),{label:e(o)("attendance.settings.overtime.enableCompensation")},{default:a(()=>[t(e($),{checked:I.value,"onUpdate:checked":n[2]||(n[2]=s=>I.value=s)},null,8,["checked"])]),_:1},8,["label"]),t(e(U),{label:e(o)("attendance.settings.overtime.timeOffSettings")},{default:a(()=>[t(e(f),{gap:"large",vertical:"",justify:"flex-start"},{default:a(()=>[t(e(f),{gap:"small",align:"center"},{default:a(()=>[t(e(m),{class:"nowrap"},{default:a(()=>[p(r(e(o)("attendance.settings.overtime.latestEffectiveDate")),1)]),_:1}),t(e(q),{valueFormat:"MM-DD",class:"overtime-input",value:u.value.latestEffectDate,"onUpdate:value":n[3]||(n[3]=s=>u.value.latestEffectDate=s)},null,8,["value"])]),_:1}),t(e(f),{gap:"small",align:"center"},{default:a(()=>[t(e(m),{class:"nowrap"},{default:a(()=>[p(r(e(o)("attendance.settings.overtime.minimumUnit"))+":",1)]),_:1}),t(e(pe),{trigger:["hover"],placement:"topLeft","overlay-class-name":"numeric-input"},{title:a(()=>[oe("span",Se,r(u.value.unit),1)]),default:a(()=>[t(e(me),{class:"overtime-input",value:u.value.unit,"onUpdate:value":n[4]||(n[4]=s=>u.value.unit=s)},null,8,["value"])]),_:1}),t(e(m),{class:"nowrap flex-1"},{default:a(()=>[p(r(e(o)("attendance.settings.overtime.day")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),_:1},8,["loading"])]),_:1},8,["model"]))}}),Ce=ae(Te,[["__scopeId","data-v-8ce7b514"]]),Ae=V({name:"AttendanceSettingModal",__name:"modal",props:{open:{default:!1},openModifiers:{}},emits:["update:open"],setup(O){const c=ue(O,"open"),o=S(null),b=S(null),_=S(null),g=S(null),u=S("attendance"),{t:i}=W(),E=[{key:"attendance",title:i("attendance.setting.tabs.attendance"),pane:ge},{key:"leave",title:i("attendance.setting.tabs.leave"),pane:_e},{key:"deduction",title:i("attendance.setting.tabs.deduction"),pane:ye},{key:"overtime",title:i("attendance.setting.tabs.overtime"),pane:Ce}],L=S(),{run:I,loading:y}=B(ne.getCompanyDepartmentList,{manual:!0,onSuccess:({data:d})=>{L.value=d.map(l=>({label:l.name,value:l.id}))}}),h=(d,l)=>{switch(l){case"attendance":o.value=d;break;case"leave":b.value=d;break;case"deduction":_.value=d;break;case"overtime":g.value=d;break}},D=S(!1),N=async()=>{var s;const d=u.value,n={attendance:o,leave:b,deduction:_,overtime:g}[d];D.value=!0,(s=n==null?void 0:n.value)!=null&&s.handleSubmit&&(await n.value.handleSubmit(),c.value=!1,D.value=!1)},v=()=>{c.value=!1};return Q(()=>{I()}),(d,l)=>(k(),F(e(le),{width:800,closable:"",mask:"",open:c.value,"onUpdate:open":l[1]||(l[1]=n=>c.value=n),title:e(i)("attendance.setting.title"),destroyOnClose:!0},{footer:a(()=>[t(e(f),{justify:"center"},{default:a(()=>[t(e(te),{onClick:N,type:"primary",loading:D.value},{default:a(()=>[p(r(e(i)("attendance.setting.buttons.saveUpdate")),1)]),_:1},8,["loading"]),t(e(te),{onClick:v},{default:a(()=>[p(r(e(i)("attendance.setting.buttons.cancel")),1)]),_:1})]),_:1})]),default:a(()=>[t(e(ve),{activeKey:u.value,"onUpdate:activeKey":l[0]||(l[0]=n=>u.value=n)},{default:a(()=>[(k(),j(K,null,Y(E,n=>t(e(fe),{key:n.key,tab:n.title},{default:a(()=>[t(e(P),{loading:e(y),active:"",paragraph:{rows:8}},{default:a(()=>[(k(),F(ie(n.pane),{departmentOptions:L.value,ref_for:!0,ref:s=>h(s,n.key)},null,8,["departmentOptions"]))]),_:2},1032,["loading"])]),_:2},1032,["tab"])),64))]),_:1},8,["activeKey"])]),_:1},8,["open","title"]))}});export{Ae as default};
