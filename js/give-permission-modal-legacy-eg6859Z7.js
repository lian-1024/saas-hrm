System.register(["./vue-vendor-legacy-x9FjLCOD.js","./permission-legacy-CDPpi0C4.js","./role.service-legacy-Cy3QUHZR.js","./modal.vue_vue_type_script_setup_true_lang-legacy-7ayigm6Q.js","./skeleton-legacy-KE-_dRl6.js","./index-legacy-CHUU-5It.js","./index-legacy-FCYPyWIL.js","./antd-vendor-legacy-C9XdHwF7.js","./_plugin-vue_export-helper-legacy-DgAO6S8O.js","./axios-vendor-legacy-B4nRALG8.js","./lodash-vendor-legacy-D6Hi_gR3.js"],(function(e,a){"use strict";var n,l,s,o,r,i,d,t,c,u,p,g,v,m,y,_,f,j,h,x,k,I;return{setters:[e=>{n=e.d,l=e.af,s=e.a9,o=e.u,r=e.ag,i=e.r,d=e.w,t=e.a2,c=e.a3,u=e.a4,p=e.ah,g=e.c},e=>{v=e.P,m=e.a},e=>{y=e.R},e=>{_=e._},e=>{f=e.Q},e=>{j=e.u},e=>{h=e.u},e=>{x=e.h,k=e.ac},e=>{I=e._},null,null],execute:function(){const a={class:"permission-modal-wrapper"},P=n({name:"GivePermissionModal",__name:"give-permission-modal",props:l({roleId:{}},{open:{type:Boolean,default:!1,required:!0},openModifiers:{}}),emits:["update:open"],setup(e){s((e=>({ae5d4188:`${o(n).marginLG}px`,"553a54a2":`${o(n).paddingLG}px`,cca96128:`${o(n).borderRadiusLG}px`,d1402fbc:o(n).colorBgContainer})));const{token:n}=j(),l=e,I=r(e,"open"),P=i(),w=i([]),{loading:G}=h(m.getPermissionList,{onSuccess:({data:e})=>{P.value=v.convertPermissionToTree(e)}}),{run:L}=h(y.getRoleDetail,{manual:!0,onSuccess:({data:e})=>{w.value=e.permIds}}),{loading:S,run:b}=h(y.givePermission,{manual:!0,onSuccess:()=>{x.success("分配权限成功")},onFinally:()=>{I.value=!1}}),K=()=>{b({id:l.roleId,permIds:w.value})},R=()=>I.value=!1;return d((()=>l.roleId),(e=>{e&&L(e)}),{immediate:!0}),(e,n)=>(c(),t(o(_),{title:"分配权限",open:I.value,"confirm-loading":o(S),onOk:K,onCancel:R,width:400},{default:u((()=>[p("div",a,[g(o(f),{loading:o(G),title:!1,paragraph:{rows:8}},{default:u((()=>[g(o(k),{checkedKeys:w.value,"onUpdate:checkedKeys":n[0]||(n[0]=e=>w.value=e),checkable:"","tree-data":P.value},null,8,["checkedKeys","tree-data"])])),_:1},8,["loading"])])])),_:1},8,["open","confirm-loading"]))}});e("default",I(P,[["__scopeId","data-v-f65464f7"]]))}}}));
